<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
  </head>
  <body>
    <script type="module">
      import statement from './statement.js';
      const plays = {
        'hamlet': {'name': 'Hamlet', 'type': 'tragedy'},
        'as-like': {'name': 'As You Like It', 'type': 'comedy'},
        'othello': {'name': 'Othello', 'type': 'tragedy'}
      };
      const invoices = [
        {
          'customer': 'BigCo',
          'performances': [
            {
              'playID': 'hamlet',
              'audience': 55
            },
            {
              'playID': 'as-like',
              'audience': 35
            },
            {
              'playID': 'othello',
              'audience': 40
            }
          ]
        }
      ];

      invoices.forEach(invoice => {
        document.querySelector('body').innerHTML = statement(invoice, plays);
        // 프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면, 먼저 기능을 추가하기 쉬운 형태로 리팩터링하고 나서 원하는 기능을 추가한다.
        /*
        기능을 추가하기에 불편하다면 기능 추하기가 쉽도록 형태로 리팩토링 후 원하는 기능을 추가한다.!!
        */
      });

    </script>
  </body>
</html>